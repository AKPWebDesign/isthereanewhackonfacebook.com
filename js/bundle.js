function cookieSet(e,n,a){a||(a="Fri, 31 Dec 9999 23:59:59 GMT"),document.cookie=e+"="+n+"; expires="+a}function cookieGet(e){var n=new RexExp(e+"=([^;]+)"),a=n.exec(document.cookie);return null!=a?unescape(a[1]):null}function cookieRemove(e){document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"}function changeLang(e){return languages[e]||(console.log("Unsupported language code "+e),e="en_us"),$("#answer").html(answerTemplate({answer:languages[e].answer})),$("#langDropdown").html(buttonTemplate({name:languages[e].name})),e}function prepareLangPanel(e){var n,a=$("#lang-dropdown-list-item-template").html(),o=Handlebars.compile(a),t={},l=[];for(n in e)e.hasOwnProperty(n)&&(t[e[n].name]=n);for(n in t)l.push(n);l.sort();for(var g=0;g<l.length;g++){var r=t[l[g]];$(".languages").append(o({lang:r,name:l[g]}))}$(".languages li a").click(function(){var e=$(this).data("lang");s.set("lang-code",changeLang(e)),$(".languages-panel").toggleClass("onscreen"),$(".languages-panel").toggleClass("offscreen")})}var Storage=function(){};Storage.prototype.set=function(e,n,a){return"undefined"!=typeof Storage?localStorage.setItem(e,n):cookieSet(e,n,a)},Storage.prototype.get=function(e){return"undefined"!=typeof Storage?localStorage.getItem(e):cookieGet(e)},Storage.prototype.delete=function(e){return"undefined"!=typeof Storage?localStorage.removeItem(e):cookieRemove(e)};var languages={en:"No."},s=new Storage,answerTemplate,buttonTemplate;$(document).ready(function(){answerTemplate=Handlebars.compile($("#answer-template").html()),buttonTemplate=Handlebars.compile($("#lang-dropdown-button-template").html()),$.getJSON("lang/all.json",function(e){languages=e,changeLang(s.get("lang-code")||"en_US"),prepareLangPanel(e)})}),$(".langButton, .langCloseButton").click(function(){$(".languages-panel").toggleClass("onscreen"),$(".languages-panel").toggleClass("offscreen")});
//# sourceMappingURL=js/bundle.js.map